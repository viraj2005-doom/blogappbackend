<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <%- include('partials/head.ejs') %>
    <title>Blog</title>
</head>
<body>
    <%- include('partials/navbar.ejs') %>
    <div class="container mt-4">
        <h1>
            <%= blog.title %>
        </h1>
            <img src="<%= blog.coverImageURL %>" width ="300px" alt="">
            <pre class="mt-4" ><%= blog.body %></pre>

    </div>
    <div class="container mt-4 d-flex">
        <img src="<%= blog.createdBy.profileImageURL || '/images/useravatar.png' %>" width="50px">
        <h5> <%= blog.createdBy.firstName %></h5>
    </div>

    <div class="container mt-3">
        <h3>Comments</h3>
        <form action="/blog/comment/<%= blog._id %>" method="POST">
          <div class="mb-3">
            <input type="text" class="form-control" id="content" aria-describedby="contentHelp" name="content" placeholder="Enter your Comment">
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

    <div class="container mt-4">
        <% comments.forEach(function(comment) { %>
            <div class="mb-3 p-3 border">
                <div class="d-flex align-items-center mb-2">
                    <img src="<%= comment.createdBy.profileImageURL || '/images/useravatar.png' %>" width="40px" class="me-2" alt="">
                    <strong><%= comment.createdBy.firstName %></strong>
                </div>
                <p><%= comment.content %></p>
            </div>
        <% }); %>

    </div>
    <%- include('partials/script.ejs') %>
</body>
</html>